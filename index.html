<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport" />
    <title>é¥®é£Ÿè§‰å¯Ÿ</title>
    <style>
        :root {
            /* Apple Design System Colors */
            --system-bg: #F2F2F7;
            --system-bg-secondary: #FFFFFF;
            --system-gray: #8E8E93;
            --system-gray-2: #636366;
            --system-gray-3: #48484A;
            --system-gray-4: #3A3A3C;
            --system-gray-5: #2C2C2E;
            --system-gray-6: #1C1C1E;
            --label-primary: #000000;
            --label-secondary: #3C3C43;
            --label-tertiary: rgba(60, 60, 67, 0.6);
            --fill-primary: rgba(120, 120, 128, 0.2);
            --system-blue: #007AFF;
            --system-pink: #FF2D55;
            --system-purple: #AF52DE;
            --system-indigo: #5856D6;

            /* Vibrancy */
            --glass-bg: rgba(255, 255, 255, 0.72);
            --glass-border: rgba(255, 255, 255, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', system-ui, sans-serif;
            min-height: 100vh;
            min-height: 100dvh;
            background: var(--system-bg);
            overflow: hidden;
            position: relative;
            -webkit-font-smoothing: antialiased;
        }

        /* Appleé£æ ¼æ¸å˜èƒŒæ™¯ */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background: linear-gradient(180deg,
                    #F2F2F7 0%,
                    #E8E8ED 100%);
        }

        /* æµåŠ¨å…‰æ™• - Appleé£æ ¼ */
        .glow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .glow-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            animation: float 6s ease-in-out infinite;
        }

        .glow-orb-1 {
            width: 400px;
            height: 400px;
            background: linear-gradient(135deg, #FF2D55 0%, #FF9500 100%);
            top: -100px;
            right: -100px;
        }

        .glow-orb-2 {
            width: 350px;
            height: 350px;
            background: linear-gradient(135deg, #5856D6 0%, #AF52DE 100%);
            bottom: -80px;
            left: -80px;
            animation-delay: -2s;
        }

        .glow-orb-3 {
            width: 280px;
            height: 280px;
            background: linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%);
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
            animation-delay: -4s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) scale(1);
                opacity: 0.5;
            }

            50% {
                transform: translateY(-30px) scale(1.1);
                opacity: 0.7;
            }
        }

        /* ä¸»å®¹å™¨ */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        /* é—®é¢˜å¡ç‰‡ */
        .question-card {
            text-align: center;
            max-width: 380px;
            width: 100%;
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: none;
            position: absolute;
        }

        .question-card.active {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
            position: relative;
        }

        .question-card.exit {
            opacity: 0;
            transform: translateY(-20px) scale(0.98);
        }

        /* Logo - Appleé£æ ¼ */
        .logo {
            margin-bottom: 40px;
        }

        .logo-icon {
            font-size: 72px;
            margin-bottom: 16px;
            display: block;
        }

        .logo-text {
            font-size: 34px;
            font-weight: 700;
            color: var(--label-primary);
            letter-spacing: -0.02em;
        }

        /* é—®é¢˜æ–‡å­— - SF Pro Display */
        .question-text {
            font-size: 28px;
            font-weight: 600;
            color: var(--label-primary);
            margin-bottom: 32px;
            line-height: 1.3;
            letter-spacing: -0.02em;
        }

        /* é€‰é¡¹ç½‘æ ¼ */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .options.two-col {
            flex-direction: row;
            justify-content: center;
            gap: 12px;
        }

        /* Appleé£æ ¼æŒ‰é’® - æ¯›ç»ç’ƒ */
        .option-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 0.5px solid var(--glass-border);
            border-radius: 16px;
            padding: 18px 24px;
            font-family: inherit;
            font-size: 17px;
            font-weight: 500;
            color: var(--label-primary);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 14px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .options.two-col .option-btn {
            flex: 1;
            justify-content: center;
        }

        .option-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        .option-btn:active {
            transform: scale(0.98);
            background: rgba(255, 255, 255, 0.85);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, var(--system-blue), var(--system-indigo));
            color: white;
            border-color: transparent;
            box-shadow: 0 8px 24px rgba(88, 86, 214, 0.3);
        }

        .option-emoji {
            font-size: 28px;
        }

        .option-text {
            text-align: left;
            letter-spacing: -0.01em;
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ - Apple Capsuleé£æ ¼ */
        .progress-bar {
            position: fixed;
            bottom: 48px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            padding: 8px 12px;
            border-radius: 20px;
            border: 0.5px solid var(--glass-border);
            z-index: 10;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            background: var(--fill-primary);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            width: 24px;
            background: var(--system-blue);
        }

        .progress-dot.done {
            background: var(--system-blue);
        }

        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            .progress-bar {
                bottom: calc(32px + env(safe-area-inset-bottom));
            }
        }
    </style>
</head>

<body>
    <!-- æ¸å˜èƒŒæ™¯ -->
    <div class="gradient-bg"></div>

    <!-- å…‰æ™•æ•ˆæœ -->
    <div class="glow-container">
        <div class="glow-orb glow-orb-1"></div>
        <div class="glow-orb glow-orb-2"></div>
        <div class="glow-orb glow-orb-3"></div>
    </div>

    <div class="container">
        <!-- é—®é¢˜1 -->
        <div class="question-card active" id="q1">
            <div class="logo">
                <span class="logo-icon">ğŸ½ï¸</span>
                <div class="logo-text">é¥®é£Ÿè§‰å¯Ÿ</div>
            </div>
            <div class="question-text">ç°åœ¨æ˜¯ç™½å¤©è¿˜æ˜¯å¤œæ™šï¼Ÿ</div>
            <div class="options two-col">
                <button class="option-btn" onclick="selectOption('time_of_day', 'daytime', 1)">
                    <span class="option-emoji">â˜€ï¸</span>
                    <span class="option-text">ç™½å¤©</span>
                </button>
                <button class="option-btn" onclick="selectOption('time_of_day', 'nighttime', 1)">
                    <span class="option-emoji">ğŸŒ™</span>
                    <span class="option-text">å¤œæ™š</span>
                </button>
            </div>
        </div>

        <!-- é—®é¢˜2 -->
        <div class="question-card" id="q2">
            <div class="question-text">æ­¤åˆ»ä½ çš„å¿ƒæƒ…æ˜¯ï¼Ÿ</div>
            <div class="options">
                <button class="option-btn" onclick="selectOption('mood', 'stressed', 2)">
                    <span class="option-emoji">ğŸ˜«</span>
                    <span class="option-text">å‹åŠ›å±±å¤§</span>
                </button>
                <button class="option-btn" onclick="selectOption('mood', 'homesick', 2)">
                    <span class="option-emoji">ğŸ </span>
                    <span class="option-text">æœ‰ç‚¹æƒ³å®¶</span>
                </button>
                <button class="option-btn" onclick="selectOption('mood', 'finished_work', 2)">
                    <span class="option-emoji">ğŸ‰</span>
                    <span class="option-text">ç»ˆäºå¿™å®Œäº†</span>
                </button>
                <button class="option-btn" onclick="selectOption('mood', 'lonely', 2)">
                    <span class="option-emoji">ğŸ˜”</span>
                    <span class="option-text">æœ‰äº›å­¤å•</span>
                </button>
            </div>
        </div>

        <!-- é—®é¢˜3 -->
        <div class="question-card" id="q3">
            <div class="question-text">ä½ çš„èº«ä½“åœ¨è¯´ä»€ä¹ˆï¼Ÿ</div>
            <div class="options">
                <button class="option-btn" onclick="selectOption('hunger_level', 'culinary_hug', 3)">
                    <span class="option-emoji">ğŸ¤—</span>
                    <span class="option-text">æƒ³è¢«ç¾é£Ÿæ²»æ„ˆ</span>
                </button>
                <button class="option-btn" onclick="selectOption('hunger_level', 'crunch', 3)">
                    <span class="option-emoji">ğŸ˜‹</span>
                    <span class="option-text">æƒ³åš¼ç‚¹ä»€ä¹ˆ</span>
                </button>
                <button class="option-btn" onclick="selectOption('hunger_level', 'energy_needed', 3)">
                    <span class="option-emoji">âš¡</span>
                    <span class="option-text">æ€¥éœ€èƒ½é‡</span>
                </button>
            </div>
        </div>

        <!-- é—®é¢˜4 -->
        <div class="question-card" id="q4">
            <div class="question-text">ä»Šå¤©è¿åŠ¨äº†å—ï¼Ÿ</div>
            <div class="options two-col">
                <button class="option-btn" onclick="selectOption('exercised_today', true, 4)">
                    <span class="option-emoji">ğŸƒ</span>
                    <span class="option-text">è¿åŠ¨äº†</span>
                </button>
                <button class="option-btn" onclick="selectOption('exercised_today', false, 4)">
                    <span class="option-emoji">ğŸ›‹ï¸</span>
                    <span class="option-text">æ²¡è¿åŠ¨</span>
                </button>
            </div>
        </div>

        <!-- é—®é¢˜5 -->
        <div class="question-card" id="q5">
            <div class="question-text">ä»Šå¤©çš„é¢„ç®—æ˜¯ï¼Ÿ</div>
            <div class="options">
                <button class="option-btn" onclick="selectOption('budget_level', 1, 5)">
                    <span class="option-emoji">ğŸ’°</span>
                    <span class="option-text">5-15å…ƒ</span>
                </button>
                <button class="option-btn" onclick="selectOption('budget_level', 2, 5)">
                    <span class="option-emoji">ğŸ’µ</span>
                    <span class="option-text">15-25å…ƒ</span>
                </button>
                <button class="option-btn" onclick="selectOption('budget_level', 3, 5)">
                    <span class="option-emoji">ğŸ’³</span>
                    <span class="option-text">25-40å…ƒ</span>
                </button>
                <button class="option-btn" onclick="selectOption('budget_level', 4, 5)">
                    <span class="option-emoji">ğŸ’</span>
                    <span class="option-text">40-80å…ƒ</span>
                </button>
                <button class="option-btn" onclick="selectOption('budget_level', 5, 5)">
                    <span class="option-emoji">ğŸ‘‘</span>
                    <span class="option-text">80å…ƒä»¥ä¸Š</span>
                </button>
            </div>
        </div>
    </div>

    <!-- è¿›åº¦æ¡ -->
    <div class="progress-bar">
        <div class="progress-dot active" id="dot1"></div>
        <div class="progress-dot" id="dot2"></div>
        <div class="progress-dot" id="dot3"></div>
        <div class="progress-dot" id="dot4"></div>
        <div class="progress-dot" id="dot5"></div>
    </div>

    <script>
        const userChoices = {
            time_of_day: null,
            mood: null,
            hunger_level: null,
            exercised_today: null,
            budget_level: null
        };

        const choiceLabels = {
            time_of_day: { daytime: 'ç™½å¤©', nighttime: 'å¤œæ™š' },
            mood: { stressed: 'å‹åŠ›å±±å¤§', homesick: 'æœ‰ç‚¹æƒ³å®¶', finished_work: 'ç»ˆäºå¿™å®Œäº†', lonely: 'æœ‰äº›å­¤å•' },
            hunger_level: { culinary_hug: 'æƒ³è¢«ç¾é£Ÿæ²»æ„ˆ', crunch: 'æƒ³åš¼ç‚¹ä»€ä¹ˆ', energy_needed: 'æ€¥éœ€èƒ½é‡' },
            exercised_today: { true: 'è¿åŠ¨äº†', false: 'æ²¡è¿åŠ¨' },
            budget_level: { 1: '5-15å…ƒ', 2: '15-25å…ƒ', 3: '25-40å…ƒ', 4: '40-80å…ƒ', 5: '80å…ƒä»¥ä¸Š' }
        };

        let currentQuestion = 1;

        function selectOption(field, value, qNum) {
            userChoices[field] = value;

            const card = document.getElementById('q' + qNum);
            card.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            setTimeout(() => {
                if (qNum < 5) {
                    goToQuestion(qNum + 1);
                } else {
                    submitChoices();
                }
            }, 400);
        }

        function goToQuestion(num) {
            const curr = document.getElementById('q' + currentQuestion);
            curr.classList.remove('active');
            curr.classList.add('exit');

            document.getElementById('dot' + currentQuestion).classList.remove('active');
            document.getElementById('dot' + currentQuestion).classList.add('done');

            setTimeout(() => {
                currentQuestion = num;
                document.getElementById('q' + num).classList.add('active');
                document.getElementById('dot' + num).classList.add('active');
            }, 300);
        }

        function submitChoices() {
            sessionStorage.setItem('userChoices', JSON.stringify(userChoices));
            sessionStorage.setItem('choiceLabels', JSON.stringify({
                time: choiceLabels.time_of_day[userChoices.time_of_day],
                mood: choiceLabels.mood[userChoices.mood],
                hunger: choiceLabels.hunger_level[userChoices.hunger_level],
                exercise: choiceLabels.exercised_today[userChoices.exercised_today],
                budget: choiceLabels.budget_level[userChoices.budget_level]
            }));
            window.location.href = 'result.html';
        }
    </script>
</body>

</html>